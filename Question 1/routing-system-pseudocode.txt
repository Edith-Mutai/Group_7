FUNCTION isPeakHour(startHour, endHour, currentHour)
    IF currentHour >= startHour AND currentHour < endHour THEN
        RETURN TRUE
    ELSE
        RETURN FALSE
END FUNCTION

FUNCTION adjustSchedule(baseSchedule, peakStart, peakEnd, currentHour, eventRoutes, maintenanceRoutes)
    newSchedule = EMPTY LIST

    FOR EACH route IN baseSchedule
        vehicles = route.vehicles
        name = route.name

        IF name IS IN eventRoutes THEN
            vehicles = vehicles + 2.  Add extra cars for the event

        IF isPeakHour(peakStart, peakEnd, currentHour) THEN
            vehicles = vehicles +.3  Add extra vehicles for peak hour

        IF name IS IN maintenanceRoutes THEN
            vehicles = 0  // Vehicles go for maintenance

        ADD {name, vehicles} TO newSchedule
    END FOR

    RETURN newSchedule
END FUNCTION
